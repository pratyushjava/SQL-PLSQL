SQL> create table cityorders as (select o.snum,o.onum,o.amt,c.city,c.cnum from orders o, customers c );

Table created.

SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> alter table cityorders
  2  add PRIMARY KEY(onum);
alter table cityorders
*
ERROR at line 1:
ORA-02437: cannot validate (ORAD55.SYS_C0041842) - primary key violated 


SQL> select * from cityorders;

      SNUM       ONUM        AMT CITY             CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            London           2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            Rome             2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            San Jose         2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            Berlin           2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

      SNUM       ONUM        AMT CITY             CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            London           2006                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            San Jose         2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3001      18.69 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1001       3003     767.19 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1004       3002     1900.1 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3005    5160.45 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1007       3006    1098.16 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1003       3009    1713.23 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3007      75.75 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1002       3010    1309.95 Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        10         10            Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      1290       8909            Rome             2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

70 rows selected.

SQL> delete from cityorders;

70 rows deleted.

SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> alter table cityorders
  2  add PRIMARY KEY(onum);

Table altered.

SQL> select * from orders;

      ONUM        AMT ODATE           SNUM       CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- --------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3001      18.69 03-OCT-90       1007       2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3003     767.19 03-OCT-90       1001       2001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3002     1900.1 03-OCT-90       1004       2007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3005    5160.45 03-OCT-90       1002       2003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3006    1098.16 03-OCT-90       1007       2008                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3009    1713.23 04-OCT-90       1003       2002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3007      75.75 04-OCT-90       1002       2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      3010    1309.95 06-OCT-90       1002       2004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
        10            08-OCT-90         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
      8909            03-APR-90       1290       1990                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

10 rows selected.

SQL> select * from customers;

      CNUM CNAME      CITY           RATING       SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2001 Hoffman    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2002 Giovanni   Rome              300       1003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2003 Liu        San Jose          200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2004 Grass      Berlin            300       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2006 Clemens    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2008 Cisneros   San Jose          300       1007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2007 Pereira    Rome              200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

7 rows selected.

SQL> alter table cityorders
  2  
SQL> clear screen

SQL> alter table orders
  2  add PRIMARY KEY(onum);

Table altered.

SQL> alter table cityorders
  2  add constraints onum_fk  foreign key(onum) references orders(onum);

Table altered.

SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              NOT NULL NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> insert into cityorders values(2000,2300,23.45,'london',1200);
insert into cityorders values(2000,2300,23.45,'london',1200)
*
ERROR at line 1:
ORA-02291: integrity constraint (ORAD55.ONUM_FK) violated - parent key not found 


SQL> insert into cityorders values(2000,3007,23.45,'london',1200);

1 row created.

SQL> alter table customers
  2  add primary key(cnum);

Table altered.

SQL> alter table cityorders
  2  add constraint cnum_fk foreign key cnum references customers(cnum);
add constraint cnum_fk foreign key cnum references customers(cnum)
                                   *
ERROR at line 2:
ORA-00906: missing left parenthesis 


SQL> alter table cityorders
  2  add constraint cnum_fk foreign key (cnum) references customers(cnum);
add constraint cnum_fk foreign key (cnum) references customers(cnum)
               *
ERROR at line 2:
ORA-02298: cannot validate (ORAD55.CNUM_FK) - parent keys not found 


SQL> select * from customers;

      CNUM CNAME      CITY           RATING       SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2001 Hoffman    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2002 Giovanni   Rome              300       1003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2003 Liu        San Jose          200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2004 Grass      Berlin            300       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2006 Clemens    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2008 Cisneros   San Jose          300       1007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2007 Pereira    Rome              200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

7 rows selected.

SQL> desc customers;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              NOT NULL NUMBER(4)
 CNAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      VARCHAR2(10)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 RATING                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     NUMBER(4)
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> alter table cityorders
  2  add constraints cnum_fk foreign key (cnum) references customers(cnum);
add constraints cnum_fk foreign key (cnum) references customers(cnum)
                *
ERROR at line 2:
ORA-02298: cannot validate (ORAD55.CNUM_FK) - parent keys not found 


SQL> alter table cityorders
  2  add constraints cnum_fk foreign key (cnum) references customers(customers.cnum);
add constraints cnum_fk foreign key (cnum) references customers(customers.cnum)
                                                                *
ERROR at line 2:
ORA-00904: "CUSTOMERS"."CNUM": invalid identifier 


SQL> add constraints cnum_fk foreign key (cnum) references customers(cnum);
SP2-0734: unknown command beginning "add constr..." - rest of line ignored.
SQL> 
SQL> set linesize=1000
SP2-0268: linesize option not a valid number
SQL> set linesize=1000;
SP2-0268: linesize option not a valid number
SQL> set linesize 1000;
SQL> selct * customers;
SP2-0734: unknown command beginning "selct * cu..." - rest of line ignored.
SQL> selct * from customers;
SP2-0734: unknown command beginning "selct * fr..." - rest of line ignored.
SQL> select * from customers;

      CNUM CNAME      CITY           RATING       SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2001 Hoffman    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2002 Giovanni   Rome              300       1003                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2003 Liu        San Jose          200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2004 Grass      Berlin            300       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2006 Clemens    London            100       1001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2008 Cisneros   San Jose          300       1007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2007 Pereira    Rome              200       1004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

7 rows selected.

SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              NOT NULL NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> set pagesize 500;
SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              NOT NULL NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NUMBER(4)

SQL> set linesize 500;
SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                  Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                           NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                  NOT NULL NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                            NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                           VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                           NUMBER(4)

SQL> set pagesize 100;
SQL> desc cityorders;
 Name                                                                                                                                                                                                                                                                                                  Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SNUM                                                                                                                                                                                                                                                                                                           NUMBER(4)
 ONUM                                                                                                                                                                                                                                                                                                  NOT NULL NUMBER(4)
 AMT                                                                                                                                                                                                                                                                                                            NUMBER(7,2)
 CITY                                                                                                                                                                                                                                                                                                           VARCHAR2(10)
 CNUM                                                                                                                                                                                                                                                                                                           NUMBER(4)

SQL> set linesize 10;
SQL> desc cityorders;
 Name              Null?    Type
 ----------------- -------- ------------
 SNUM                       NUMBER(4)
 ONUM              NOT NULL NUMBER(4)
 AMT                        NUMBER(7,2)
 CITY                       VARCHAR2(10)
 CNUM                       NUMBER(4)

SQL> desc cityorders;
 Name              Null?    Type
 ----------------- -------- ------------
 SNUM                       NUMBER(4)
 ONUM              NOT NULL NUMBER(4)
 AMT                        NUMBER(7,2)
 CITY                       VARCHAR2(10)
 CNUM                       NUMBER(4)

SQL> alter table cityorders
  2  add constraints cnum_fk foreign key references customers(cnum);
add constraints cnum_fk foreign key references customers(cnum)
                                    *
ERROR at line 2:
ORA-00906:
missing 
left 
parenthesi
s 


SQL> alter table cityorders
  2  add constraint cnum_fk foreign key references customers(cnum);
add constraint cnum_fk foreign key references customers(cnum)
                                   *
ERROR at line 2:
ORA-00906:
missing 
left 
parenthesi
s 


SQL> set linesize 50;
SQL> alter table cityorders
  2  add constraint cnum_fk foreign key references customers(cnum);
add constraint cnum_fk foreign key references customers(cnum)
                                   *
ERROR at line 2:
ORA-00906: missing left parenthesis 


SQL> alter table cityorders
  2  add constraint references customers(cnum);
add constraint references customers(cnum)
                                   *
ERROR at line 2:
ORA-00902: invalid datatype 


SQL> alter table cityorders
  2  add constraint cnum_fk foreign key cnum references customers(cnum);
add constraint cnum_fk foreign key cnum references customers(cnum)
                                   *
ERROR at line 2:
ORA-00906: missing left parenthesis 


SQL> alter table cityorders
  2  add constraint cnum_fk foreign key (cnum) references customers(cnum);
add constraint cnum_fk foreign key (cnum) references customers(cnum)
               *
ERROR at line 2:
ORA-02298: cannot validate (ORAD55.CNUM_FK) - 
parent keys not found 


SQL> alter table customers
  2  add primary key cnum;
add primary key cnum
                *
ERROR at line 2:
ORA-00906: missing left parenthesis 


SQL> alter table customers
  2  add primary key (cnum);
add primary key (cnum)
    *
ERROR at line 2:
ORA-02260: table can have only one primary key 


SQL> desc customers;
 Name                    Null?    Type
 ----------------------- -------- ----------------
 CNUM                    NOT NULL NUMBER(4)
 CNAME                            VARCHAR2(10)
 CITY                             VARCHAR2(10)
 RATING                           NUMBER(4)
 SNUM                             NUMBER(4)

SQL> alter table cityorders
  2  add foreign key (cnum) references customers(cnum);
alter table cityorders
*
ERROR at line 1:
ORA-02298: cannot validate (ORAD55.SYS_C0041873) 
- parent keys not found 


SQL> select * from cityorders;

      SNUM       ONUM        AMT CITY             
---------- ---------- ---------- ----------       
      CNUM                                        
----------                                        
      2000       3007      23.45 london           
      1200                                        
                                                  

SQL> select * from customers;

      CNUM CNAME      CITY           RATING       
---------- ---------- ---------- ----------       
      SNUM                                        
----------                                        
      2001 Hoffman    London            100       
      1001                                        
                                                  
      2002 Giovanni   Rome              300       
      1003                                        
                                                  
      2003 Liu        San Jose          200       
      1004                                        
                                                  
      2004 Grass      Berlin            300       
      1004                                        
                                                  
      2006 Clemens    London            100       
      1001                                        
                                                  
      2008 Cisneros   San Jose          300       
      1007                                        
                                                  
      2007 Pereira    Rome              200       
      1004                                        
                                                  

7 rows selected.

SQL> delete from cityorders;

1 row deleted.

SQL> alter table cityorders
  2  add constraint cnum_fk foreign key (cnum) references customers(cnum);

Table altered.

SQL> ceate table orders3 as select * from orders;
SP2-0734: unknown command beginning "ceate tabl..." - rest of line ignored.
SQL> create table orders3 as select * from orders;

Table created.

SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM        
---------- ---------- --------- ----------        
      CNUM                                        
----------                                        
      3001      18.69 03-OCT-90       1007        
      2008                                        
                                                  
      3003     767.19 03-OCT-90       1001        
      2001                                        
                                                  
      3002     1900.1 03-OCT-90       1004        
      2007                                        
                                                  
      3005    5160.45 03-OCT-90       1002        
      2003                                        
                                                  
      3006    1098.16 03-OCT-90       1007        
      2008                                        
                                                  
      3009    1713.23 04-OCT-90       1003        
      2002                                        
                                                  
      3007      75.75 04-OCT-90       1002        
      2004                                        
                                                  
      3010    1309.95 06-OCT-90       1002        
      2004                                        
                                                  
        10            08-OCT-90         10        
                                                  
                                                  
      8909            03-APR-90       1290        
      1990                                        
                                                  

10 rows selected.

SQL> set linesize=70;
SP2-0268: linesize option not a valid number
SQL> set line size=70;
SP2-0268: linesize option not a valid number
SQL> set linesize 70;
SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM                 
---------- ---------- --------- ---------- ----------                 
      3001      18.69 03-OCT-90       1007       2008                 
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004                 
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> alter table orders3 add column prev number(4);
alter table orders3 add column prev number(4)
                        *
ERROR at line 1:
ORA-00904: : invalid identifier 


SQL> alter table orders3 add prev number(4);

Table altered.

SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008                 
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004                 
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum>i.onum;

      ONUM                                                            
----------                                                            
      3006                                                            
      3010                                                            

SQL> select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum;

      ONUM                                                            
----------                                                            
      3001                                                            
      3007                                                            

SQL> select o.onum,o.cnum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum;

      ONUM       CNUM                                                 
---------- ----------                                                 
      3001       2008                                                 
      3007       2004                                                 

SQL> update orders3 set prev
  2  =
  3  select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum;
select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum
*
ERROR at line 3:
ORA-00936: missing expression 


SQL> update orders3 set prev=
  2  (select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum);
(select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum)
 *
ERROR at line 2:
ORA-01427: single-row subquery returns more than one row 


SQL> (select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum);

      ONUM                                                            
----------                                                            
      3001                                                            
      3007                                                            

SQL> update orders3 set o.prev=
  2  (select o.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum);
update orders3 set o.prev=
                   *
ERROR at line 1:
ORA-00904: "O"."PREV": invalid identifier 


SQL> update orders3 o set prev=
  2  (select o.onum from orders3 i where o.cnum=i.cnum and o.onum<i.onum);

10 rows updated.

SQL> selct * from orders3;
SP2-0734: unknown command beginning "selct * fr..." - rest of line ignored.
SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008       3001      
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004       3007      
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> update orders set prev=NULL;
update orders set prev=NULL
                  *
ERROR at line 1:
ORA-00904: "PREV": invalid identifier 


SQL> update orders3 set prev=NULL;

10 rows updated.

SQL> select * from orders3
  2  /

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008                 
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004                 
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> update orders3 i set prev=
  2  (select o.onum from orders3 i where o.cnum=i.cnum and o.onum<i.onum);
(select o.onum from orders3 i where o.cnum=i.cnum and o.onum<i.onum)
                                                      *
ERROR at line 2:
ORA-00904: "O"."ONUM": invalid identifier 


SQL> update orders3 o set prev=
  2  (select i.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum);
(select i.onum from orders3 o,orders3 i where o.cnum=i.cnum and o.onum<i.onum)
 *
ERROR at line 2:
ORA-01427: single-row subquery returns more than one row 


SQL> update orders3 o set prev=
  2  (select i.onum from orders3 i where o.cnum=i.cnum and o.onum<i.onum);

10 rows updated.

SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008       3006      
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004       3010      
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> update orders3 o set prev=
  2  (select i.onum from orders3 i where o.cnum=i.cnum and o.onum>i.onum);

10 rows updated.

SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008                 
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008       3001      
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004                 
      3010    1309.95 06-OCT-90       1002       2004       3007      
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> alter table orders3
  2  modify foreign key prev references orders3(onum);
modify foreign key prev references orders3(onum)
                   *
ERROR at line 2:
ORA-00906: missing left parenthesis 


SQL> alter table orders3
  2  modify foreign key (prev) references orders3(onum);
modify foreign key (prev) references orders3(onum)
                                             *
ERROR at line 2:
ORA-02270: no matching unique or primary key for this column-list 


SQL> delete from orders3;

10 rows deleted.

SQL> alter table orders3
  2  modify foreign key (prev) references orders3(onum);
modify foreign key (prev) references orders3(onum)
                                             *
ERROR at line 2:
ORA-02270: no matching unique or primary key for this column-list 


SQL> desc orders3;
 Name                                Null?    Type
 ----------------------------------- -------- ------------------------
 ONUM                                         NUMBER(4)
 AMT                                          NUMBER(7,2)
 ODATE                                        DATE
 SNUM                                         NUMBER(4)
 CNUM                                         NUMBER(4)
 PREV                                         NUMBER(4)

SQL> alter table orders3 modify primary key (onum);
alter table orders3 modify primary key (onum)
                                       *
ERROR at line 1:
ORA-00933: SQL command not properly ended 


SQL> alter table orders3 add primary key (onum);

Table altered.

SQL> alter table orders3
  2  modify foreign key (prev) references orders3(onum);

Table altered.

SQL> insert into orders3(onum,amt,odate,snum,cnum) values(select * from orders);
insert into orders3(onum,amt,odate,snum,cnum) values(select * from orders)
                                                     *
ERROR at line 1:
ORA-00936: missing expression 


SQL> insert into orders3(onum,amt,odate,snum,cnum) values(select onum,amt,odate,snum,cnum from orders);
insert into orders3(onum,amt,odate,snum,cnum) values(select onum,amt,odate,snum,cnum from orders)
                                                     *
ERROR at line 1:
ORA-00936: missing expression 


SQL> insert into orders3(onum,amt,odate,snum,cnum) (select onum,amt,odate,snum,cnum from orders);

10 rows created.

SQL> select * from orders3;

      ONUM        AMT ODATE           SNUM       CNUM       PREV      
---------- ---------- --------- ---------- ---------- ----------      
      3001      18.69 03-OCT-90       1007       2008                 
      3003     767.19 03-OCT-90       1001       2001                 
      3002     1900.1 03-OCT-90       1004       2007                 
      3005    5160.45 03-OCT-90       1002       2003                 
      3006    1098.16 03-OCT-90       1007       2008                 
      3009    1713.23 04-OCT-90       1003       2002                 
      3007      75.75 04-OCT-90       1002       2004                 
      3010    1309.95 06-OCT-90       1002       2004                 
        10            08-OCT-90         10                            
      8909            03-APR-90       1290       1990                 

10 rows selected.

SQL> spool off
